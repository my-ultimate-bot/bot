const _0x3f7a=['\x74\x65\x73\x74','\x41\x74\x20\x63\x68\x65\x63\x6b\x20\x6f\x70\x65\x6e\x20\x6f\x72\x64\x65\x72\x73\x20\x73\x74\x65\x70','\x73\x65\x63\x72\x65\x74','\x6d\x61\x70','\x66\x75\x74\x75\x72\x65','\x64\x69\x66\x66\x65\x72\x65\x6e\x63\x65','\x6e\x6f\x45\x78\x70\x6f\x6e\x65\x6e\x74\x73','\x64\x64\x6f\x73','\x66\x65\x74\x63\x68\x4d\x61\x72\x6b\x65\x74\x73','\x73\x74\x6f\x70\x4d\x61\x6e\x75\x61\x6c','\x63\x72\x65\x61\x74\x65\x4c\x69\x6d\x69\x74\x42\x75\x79\x4f\x72\x64\x65\x72','\x68\x61\x72\x64','\x74\x72\x69\x67\x67\x65\x72\x42\x75\x79','\x73\x65\x6c\x6c','\x64\x65\x6c\x65\x74\x65','\x64\x61\x74\x65\x74\x69\x6d\x65','\x64\x69\x70\x45\x6e\x68\x61\x6e\x63\x65\x64\x53\x74\x61\x62\x6c\x65\x4d\x61\x72\x6b\x65\x74','\x74\x69\x6d\x65\x46\x72\x61\x6d\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x53\x68\x6f\x72\x74\x20\x28','\x65\x78\x70\x6f\x72\x74\x73','\x73\x6f\x72\x74','\x31\x30\x32\x4d\x6a\x69\x61\x4a\x73','\x66\x69\x6e\x64','\x34\x32\x39','\x42\x55\x4c\x4c','\x61\x6d\x6f\x75\x6e\x74\x32\x45\x78\x65\x63','\x74\x6f\x46\x69\x78\x65\x64\x4e\x75\x6d\x62\x65\x72','\x33\x38\x33\x37\x39\x31\x31\x59\x69\x45\x44\x6b\x7a','\x52\x65\x73\x74\x61\x72\x74\x20\x74\x68\x65\x20\x62\x6f\x74\x2e\x2e\x2e','\x43\x6c\x6f\x73\x65\x64\x20','\x74\x69\x6d\x65\x66\x72\x61\x6d\x65\x73','\x73\x61\x70\x69\x50\x6f\x73\x74\x46\x75\x74\x75\x72\x65\x73\x54\x72\x61\x6e\x73\x66\x65\x72','\x34\x34\x30\x33\x43\x78\x56\x71\x59\x54','\x4c\x6f\x6e\x67\x20\x28','\x52\x45\x53\x54\x52\x49\x43\x54\x45\x44\x5f\x4d\x41\x52\x4b\x45\x54','\x74\x79\x70\x65','\x64\x69\x66\x66','\x76\x61\x6c\x75\x65','\x41\x74\x20\x63\x68\x65\x63\x6b\x20\x64\x6f\x75\x62\x6c\x65\x20\x65\x78\x65\x63\x75\x74\x65','\x4d\x41\x52\x4b\x45\x54','\x6d\x61\x73\x74\x65\x72','\x61\x64\x6a\x75\x73\x74\x46\x6f\x72\x54\x69\x6d\x65\x44\x69\x66\x66\x65\x72\x65\x6e\x63\x65','\x6c\x65\x6e\x67\x74\x68','\x64\x69\x70\x53\x74\x6f\x70\x4c\x6f\x73\x73','\x70\x61\x72\x73\x65\x46\x6c\x6f\x61\x74','\x69\x6e\x74\x65\x72\x73\x65\x63\x74\x69\x6f\x6e\x42\x79','\x41\x74\x20\x63\x68\x65\x63\x6b\x20\x73\x79\x6d\x62\x6f\x6c\x73\x20\x74\x6f\x20\x73\x63\x61\x6e\x20\x73\x74\x65\x70','\x77\x65\x69\x67\x68\x74','\x57\x61\x69\x74\x69\x6e\x67\x20\x66\x6f\x72\x20\x6f\x74\x68\x65\x72\x20\x6f\x70\x65\x6e\x20\x6f\x72\x64\x65\x72\x73\x20\x61\x72\x65\x20\x66\x69\x6c\x6c\x65\x64','\x53\x70\x69\x6b\x65','\x42\x45\x41\x52','\x66\x61\x70\x69\x50\x72\x69\x76\x61\x74\x65\x50\x6f\x73\x74\x4f\x72\x64\x65\x72','\x73\x70\x69\x6b\x65\x53\x74\x6f\x70\x4c\x6f\x73\x73','\x73\x68\x6f\x75\x6c\x64\x53\x6b\x69\x70\x41\x6c\x6c\x53\x79\x6d\x62\x6f\x6c\x73','\x61\x73\x73\x65\x74','\x4d\x61\x6e\x75\x61\x6c','\x20\x6f\x6e\x20\x53\x70\x6f\x74','\x61\x6c\x6c','\x73\x68\x6f\x75\x6c\x64\x53\x74\x6f\x70\x4d\x61\x6e\x75\x61\x6c','\x41\x6c\x6c\x20\x66\x75\x6e\x64\x69\x6e\x67\x20\x66\x65\x65\x73\x20\x61\x72\x65\x20\x62\x65\x6c\x6f\x77\x20\x74\x68\x65\x20\x74\x68\x72\x65\x73\x68\x6f\x6c\x64\x2e\x20\x54\x68\x65\x72\x65\x20\x69\x73\x20\x6e\x6f\x74\x68\x69\x6e\x67\x20\x74\x6f\x20\x65\x78\x65\x63\x75\x74\x65','\x53\x68\x6f\x72\x74\x20','\x31\x35\x6d','\x5e\x28\x5b\x5e\x20\x5d\x2b\x28\x20\x2b\x5b\x5e\x20\x5d\x2b\x29\x2b\x29\x2b\x5b\x5e\x20\x5d\x7d','\x6d\x65\x73\x73\x61\x67\x65','\x63\x6f\x6d\x6d\x6f\x6e','\x66\x6c\x6f\x6f\x72','\x20\x2d\x20\x52\x65\x73\x75\x6c\x74\x3a','\x46\x41\x49\x4c','\x61\x6d\x6f\x75\x6e\x74','\x72\x61\x74\x65\x32\x53\x68\x6f\x72\x74','\x20\x73\x74\x72\x61\x74\x65\x67\x79\x29','\x63\x72\x65\x61\x74\x65\x4d\x61\x72\x6b\x65\x74\x53\x65\x6c\x6c\x4f\x72\x64\x65\x72','\x73\x74\x61\x72\x74\x4d\x61\x6e\x75\x61\x6c','\x53\x63\x61\x6e\x6e\x69\x6e\x67\x3a\x20','\x64\x75\x72\x61\x74\x69\x6f\x6e','\x6d\x61\x78\x43\x6f\x6e\x63\x75\x72\x72\x65\x6e\x74','\x31\x36\x38\x34\x34\x39\x35\x42\x48\x43\x53\x71\x72','\x65\x6e\x68\x61\x6e\x63\x65\x64\x54\x69\x6d\x65\x46\x72\x61\x6d\x65','\x73\x65\x74','\x53\x55\x43\x43\x45\x53\x53','\x73\x68\x6f\x75\x6c\x64\x53\x74\x6f\x70','\x31\x35\x34\x35\x33\x36\x35\x76\x4b\x68\x46\x51\x57','\x65\x6d\x69\x74','\x6b\x65\x79\x73','\x73\x70\x69\x6b\x65\x54\x61\x6b\x65\x50\x72\x6f\x66\x69\x74','\x63\x6f\x6d\x70\x61\x63\x74','\x73\x6c\x69\x63\x65','\x73\x68\x6f\x75\x6c\x64\x45\x6e\x61\x62\x6c\x65\x43\x6f\x75\x6e\x74\x65\x72\x44\x44\x4f\x53','\x44\x69\x70','\x4c\x6f\x6e\x67\x20','\x67\x65\x74','\x77\x72\x69\x74\x65','\x44\x43\x41','\x20\x6f\x72\x20','\x6d\x65\x64\x69\x75\x6d','\x64\x69\x70\x42\x61\x73\x65\x52\x61\x74\x65','\x46\x75\x74\x75\x72\x65\x20\x4d\x61\x72\x6b\x65\x74\x3a\x20\x59\x6f\x75\x20\x68\x61\x76\x65\x20\x74\x6f\x6f\x20\x73\x6d\x61\x6c\x6c\x20\x55\x53\x44\x54\x2c\x20\x70\x6c\x65\x61\x73\x65\x20\x64\x65\x70\x6f\x73\x69\x74\x20\x6d\x6f\x72\x65\x20\x6f\x72\x20\x63\x61\x6e\x63\x65\x6c\x20\x6f\x70\x65\x6e\x20\x6f\x72\x64\x65\x72','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x63\x6f\x64\x65\x6c\x6f\x61\x64\x2e\x67\x69\x74\x68\x75\x62\x2e\x63\x6f\x6d\x2f\x6d\x79\x2d\x75\x6c\x74\x69\x6d\x61\x74\x65\x2d\x62\x6f\x74\x2f\x62\x6f\x74\x2f\x7a\x69\x70','\x6d\x61\x78\x42\x79','\x72\x65\x74\x75\x72\x6e\x20\x2f\x22\x20\x2b\x20\x74\x68\x69\x73\x20\x2b\x20\x22\x2f','\x73\x63\x68\x65\x64\x75\x6c\x65','\x34\x56\x77\x4e\x58\x6b\x42','\x20\x6f\x6e\x20\x46\x75\x74\x75\x72\x65','\x66\x65\x74\x63\x68\x4f\x70\x65\x6e\x4f\x72\x64\x65\x72\x73','\x61\x62\x73','\x41\x74\x20\x63\x68\x65\x63\x6b\x20\x62\x61\x6c\x61\x6e\x63\x65\x20\x73\x74\x65\x70','\x6c\x61\x73\x74','\x62\x6f\x74\x74\x6c\x65\x6e\x65\x63\x6b','\x74\x72\x61\x64\x69\x6e\x67\x53\x74\x72\x69\x63\x74\x6e\x65\x73\x73\x52\x61\x74\x69\x6f','\x61\x73\x4d\x69\x6c\x6c\x69\x73\x65\x63\x6f\x6e\x64\x73','\x69\x6e\x74\x65\x6e\x73\x69\x76\x65','\x73\x74\x61\x72\x74\x4d\x61\x69\x6e','\x73\x79\x6d\x62\x6f\x6c','\x6c\x61\x73\x74\x53\x63\x61\x6e\x6e\x65\x64\x53\x79\x6d\x62\x6f\x6c','\x61\x73\x48\x6f\x75\x72\x73','\x71\x75\x61\x6e\x74\x69\x74\x79','\x6c\x65\x76\x65\x72\x61\x67\x65','\x41\x74\x20\x63\x68\x65\x63\x6b\x20\x64\x6f\x75\x62\x6c\x65\x20\x62\x75\x79','\x6f\x70\x74\x69\x6f\x6e\x73','\x31\x66\x51\x67\x48\x74\x43','\x42\x54\x43','\x63\x72\x65\x61\x74\x65\x4c\x69\x6d\x69\x74\x53\x65\x6c\x6c\x4f\x72\x64\x65\x72','\x63\x72\x65\x61\x74\x65\x4d\x61\x72\x6b\x65\x74\x42\x75\x79\x4f\x72\x64\x65\x72','\x69\x6e\x63\x6c\x75\x64\x65\x73','\x76\x61\x6c\x75\x65\x4f\x66','\x6c\x69\x76\x65','\x66\x65\x74\x63\x68\x54\x69\x63\x6b\x65\x72','\x72\x65\x6d\x6f\x76\x65','\x73\x61\x6d\x70\x6c\x65','\x6d\x6f\x6d\x65\x6e\x74','\x73\x69\x64\x65','\x70\x65\x72\x63\x65\x6e\x74\x61\x67\x65','\x44\x6f\x65\x73\x6e\x27\x74\x20\x68\x61\x76\x65\x20\x61\x6e\x79\x74\x68\x69\x6e\x67\x20\x74\x6f\x20\x73\x63\x61\x6e','\x6d\x69\x6e\x42\x79','\x41\x74\x20\x63\x68\x65\x63\x6b\x20\x6c\x69\x73\x74\x20\x73\x68\x6f\x75\x6c\x64\x20\x62\x75\x79\x20\x73\x74\x65\x70','\x74\x72\x61\x64\x65','\x61\x70\x70\x6c\x79','\x33\x30\x6d','\x46\x75\x6c\x6c\x79\x20\x73\x74\x6f\x70\x70\x65\x64\x20\x74\x68\x65\x20\x62\x6f\x74','\x42\x75\x79\x20\x28','\x64\x65\x6c\x61\x79','\x77\x61\x72\x6e\x4f\x6e\x46\x65\x74\x63\x68\x4f\x70\x65\x6e\x4f\x72\x64\x65\x72\x73\x57\x69\x74\x68\x6f\x75\x74\x53\x79\x6d\x62\x6f\x6c','\x72\x61\x74\x65\x32\x4c\x6f\x6e\x67','\x6d\x61\x74\x63\x68','\x74\x6f\x55\x70\x70\x65\x72\x43\x61\x73\x65','\x65\x72\x72\x6f\x72','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x54\x68\x65\x72\x65\x20\x69\x73\x20\x6e\x6f\x74\x68\x69\x6e\x67\x20\x74\x6f\x20\x62\x75\x79\x20\x61\x74\x20\x74\x68\x65\x20\x6d\x6f\x6d\x65\x6e\x74','\x63\x63\x78\x74','\x61\x73\x6b','\x31\x39\x30\x36\x37\x32\x41\x65\x71\x51\x7a\x6c','\x44\x4f\x57\x4e','\x68\x69\x73\x74\x6f\x72\x79\x54\x72\x61\x64\x65','\x6e\x61\x69\x76\x65','\x2e\x2f\x6d\x65\x73\x73\x65\x6e\x67\x65\x72','\x6c\x6f\x64\x61\x73\x68','\x6e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e','\x74\x69\x6d\x65','\x64\x69\x70\x45\x6e\x68\x61\x6e\x63\x65\x64\x4d\x61\x72\x6b\x65\x74\x50\x6c\x61\x63\x65','\x64\x65\x66\x61\x75\x6c\x74\x54\x79\x70\x65','\x66\x69\x6c\x74\x65\x72','\x59\x6f\x75\x20\x6d\x75\x73\x74\x20\x63\x68\x6f\x6f\x73\x65\x20\x61\x74\x20\x6c\x65\x61\x73\x74\x20\x31\x20\x73\x74\x72\x61\x74\x65\x67\x79','\x6d\x65\x74\x68\x6f\x64','\x73\x74\x6f\x70\x42\x6f\x74','\x59\x6f\x75\x20\x68\x61\x76\x65\x20\x74\x6f\x6f\x20\x73\x6d\x61\x6c\x6c\x20','\x31\x35\x32\x35\x38\x38\x36\x44\x75\x52\x4d\x6e\x4e','\x53\x74\x6f\x70\x20\x74\x68\x65\x20\x62\x6f\x74','\x6c\x61\x73\x74\x46\x75\x6e\x64\x69\x6e\x67\x52\x61\x74\x65','\x66\x65\x74\x63\x68\x42\x61\x6c\x61\x6e\x63\x65','\x64\x69\x70\x54\x61\x6b\x65\x50\x72\x6f\x66\x69\x74','\x43\x61\x6c\x63\x75\x6c\x61\x74\x69\x6e\x67\x20\x53\x74\x72\x61\x74\x65\x67\x79\x3a\x20','\x2c\x20\x70\x6c\x65\x61\x73\x65\x20\x64\x65\x70\x6f\x73\x69\x74\x20\x6d\x6f\x72\x65\x20\x6f\x72\x20\x63\x61\x6e\x63\x65\x6c\x20\x6f\x70\x65\x6e\x20\x6f\x72\x64\x65\x72','\x66\x75\x6e\x64\x69\x6e\x67\x52\x61\x74\x65','\x67\x65\x6e\x65\x72\x61\x6c','\x6c\x6f\x67','\x2e\x2f\x61\x75\x74\x6f\x55\x70\x64\x61\x74\x65\x72','\x20\x61\x74\x20\x72\x61\x74\x65\x20\x3d\x20','\x34\x38\x32\x31\x31\x75\x74\x4c\x67\x57\x70','\x64\x69\x66\x66\x65\x72\x65\x6e\x63\x65\x42\x79','\x6d\x69\x6e\x54\x69\x6d\x65','\x6c\x6f\x77','\x74\x72\x69\x67\x67\x65\x72\x53\x65\x6c\x6c','\x45\x54\x48\x2f\x55\x53\x44\x54','\x66\x73\x2d\x65\x78\x74\x72\x61','\x62\x69\x6e\x61\x6e\x63\x65','\x2e\x2f\x6c\x61\x73\x74\x2d\x73\x74\x61\x74\x65\x73\x2e\x6a\x73\x6f\x6e','\x69\x73\x52\x75\x6e\x6e\x69\x6e\x67','\x4d\x61\x72\x6b\x65\x74\x4e\x65\x75\x74\x72\x61\x6c','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x72\x61\x77\x2e\x67\x69\x74\x68\x75\x62\x75\x73\x65\x72\x63\x6f\x6e\x74\x65\x6e\x74\x2e\x63\x6f\x6d\x2f\x6d\x79\x2d\x75\x6c\x74\x69\x6d\x61\x74\x65\x2d\x62\x6f\x74\x2f\x62\x6f\x74','\x42\x75\x79\x20','\x2e\x2f\x64\x61\x74\x61\x62\x61\x73\x65','\x72\x65\x70\x6c\x61\x63\x65','\x2e\x2f\x6c\x6f\x67\x67\x65\x72','\x66\x69\x6e\x64\x49\x6e\x64\x65\x78','\x69\x6e\x64\x65\x78\x4f\x66','\x66\x72\x65\x65','\x66\x61\x70\x69\x50\x72\x69\x76\x61\x74\x65\x50\x6f\x73\x74\x4c\x65\x76\x65\x72\x61\x67\x65','\x72\x65\x64\x75\x63\x65\x4f\x6e\x6c\x79','\x6d\x61\x6e\x75\x61\x6c','\x55\x53\x44\x54','\x54\x68\x65\x72\x65\x20\x69\x73\x20\x6e\x6f\x74\x68\x69\x6e\x67\x20\x74\x6f\x20\x73\x68\x6f\x72\x74\x20\x61\x74\x20\x74\x68\x65\x20\x6d\x6f\x6d\x65\x6e\x74','\x73\x6f\x6d\x65','\x72\x65\x63\x76\x57\x69\x6e\x64\x6f\x77','\x66\x65\x74\x63\x68\x4d\x79\x54\x72\x61\x64\x65\x73','\x75\x70\x64\x61\x74\x65\x53\x65\x74\x74\x69\x6e\x67\x73','\x41\x74\x20\x63\x68\x65\x63\x6b\x20\x64\x6f\x75\x62\x6c\x65\x20\x73\x68\x6f\x72\x74'];const _0x43578a=_0x5225;(function(_0x323870,_0x1fcefe){const _0xb01fbc=_0x5225;while(!![]){try{const _0x3032b9=parseInt(_0xb01fbc(0x209))+-parseInt(_0xb01fbc(0x22f))*parseInt(_0xb01fbc(0x204))+-parseInt(_0xb01fbc(0x1d8))*parseInt(_0xb01fbc(0x1cd))+-parseInt(_0xb01fbc(0x269))+-parseInt(_0xb01fbc(0x21d))*parseInt(_0xb01fbc(0x24e))+-parseInt(_0xb01fbc(0x25d))+parseInt(_0xb01fbc(0x1d3));if(_0x3032b9===_0x1fcefe)break;else _0x323870['push'](_0x323870['shift']());}catch(_0x40d831){_0x323870['push'](_0x323870['shift']());}}}(_0x3f7a,0xdedfa));const _0x5533c9=function(){let _0x1bd977=!![];return function(_0x568f84,_0x410a52){const _0x1ad270=_0x1bd977?function(){const _0x50c9b1=_0x5225;if(_0x410a52){const _0x2d7326=_0x410a52[_0x50c9b1(0x240)](_0x568f84,arguments);return _0x410a52=null,_0x2d7326;}}:function(){};return _0x1bd977=![],_0x1ad270;};}(),_0x1181ca=_0x5533c9(this,function(){const _0x3c643e=function(){const _0x4c85d5=_0x5225,_0x1b8ec8=_0x3c643e[_0x4c85d5(0x1c9)](_0x4c85d5(0x21b))()[_0x4c85d5(0x1c9)](_0x4c85d5(0x1f6));return!_0x1b8ec8[_0x4c85d5(0x1b7)](_0x1181ca);};return _0x3c643e();});_0x1181ca(),Number['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0x43578a(0x1d2)]=function(_0x4107af,_0x457dea){const _0x3cbb09=_0x43578a,_0x3dc6b4=(_0x457dea||0xa)**_0x4107af;return Number(Math[_0x3cbb09(0x1f9)](this*_0x3dc6b4)/_0x3dc6b4);},Number[_0x43578a(0x24a)][_0x43578a(0x1bd)]=function(){const _0x572e13=_0x43578a,_0x3716a8=String(this)['\x73\x70\x6c\x69\x74'](/[Ee]/);if(_0x3716a8[_0x572e13(0x1e2)]===0x1)return _0x3716a8[0x0];let _0x3f7b18='';const _0x4b7961=this<0x0?'\x2d':'',_0x4769a3=_0x3716a8[0x0][_0x572e13(0x277)]('\x2e','');let _0x63c6e9=Number(_0x3716a8[0x1])+0x1;if(_0x63c6e9<0x0){_0x3f7b18=_0x4b7961+'\x30\x2e';while(_0x63c6e9++){_0x3f7b18+='\x30';}return _0x3f7b18+_0x4769a3[_0x572e13(0x277)](/^-/,'');}_0x63c6e9-=_0x4769a3[_0x572e13(0x1e2)];while(_0x63c6e9--){_0x3f7b18+='\x30';}return _0x4769a3+_0x3f7b18;};const fs=require(_0x43578a(0x26f)),_=require(_0x43578a(0x253)),moment=require(_0x43578a(0x239)),ccxt=require(_0x43578a(0x24c)),Bottleneck=require(_0x43578a(0x223)),weightedMean=require('\x77\x65\x69\x67\x68\x74\x65\x64\x2d\x6d\x65\x61\x6e'),logger=require(_0x43578a(0x278)),{loggingMessage,calculateBalance,ioEmitter,isAmountOk,messageTrade,fetchCandle,writeBuyList,writeSellList,checkOpenOrder,checkBalance,calculateAmount2Buy,calculateAmount2Sell,commonIndicator,checkQuoteVolume,isGoodCoin,fetchOpenPositions,fetchCandleMarkets,fudAndFomoRate,restart,checkStopLoss,reQuote}=require('\x2e\x2f\x68\x65\x6c\x70\x65\x72'),messenger=require(_0x43578a(0x252));global[_0x43578a(0x244)]=0x0,global['\x6c\x61\x73\x74\x53\x63\x61\x6e\x6e\x65\x64\x53\x79\x6d\x62\x6f\x6c']=undefined,global[_0x43578a(0x1ed)]=![],global[_0x43578a(0x20f)]=![];const baseDelay=0x3e8,stopBotString=_0x43578a(0x25e),SuccessfulString='\x45\x76\x65\x72\x79\x74\x68\x69\x6e\x67\x20\x69\x73\x20\x66\x69\x6e\x65',checkShouldBuyString=_0x43578a(0x23e),checkBalanceString=_0x43578a(0x221),nothingToBuyString=_0x43578a(0x24b),restartBotString=_0x43578a(0x1d4),_0x2f612c={};_0x2f612c['\x6d\x61\x78\x43\x6f\x6e\x63\x75\x72\x72\x65\x6e\x74']=0x1;const ultimateLimiter=new Bottleneck(_0x2f612c),_0x20cc19={};_0x20cc19[_0x43578a(0x203)]=0x1,_0x20cc19[_0x43578a(0x26b)]=global[_0x43578a(0x244)];const limiter=new Bottleneck(_0x20cc19),autoUpdater=require(_0x43578a(0x267)),database=require(_0x43578a(0x276));let weight=0x1;const weightStep=0x1/0x18;setInterval(()=>{weight>0x0&&(weight-=weightStep);},0x36ee80);const dipMarkPrice=new Map(),spikeMarkPrice=new Map();async function main(_0x56866b){const _0x35060e=_0x43578a;try{const {exchange:_0x29cd80,remoteTelegram:_0x49644f,exchangeID:_0x13c8a9,apiKey:_0xc8f8c0,secret:_0xab2243,io:_0x37aa94,telegramUserId:_0x57fd34,reinvestment:reinvestment=![],breakEven:breakEven=!![],timeOrder:timeOrder=0x2d,enhancedTimeFrame:enhancedTimeFrame='\x34\x68',tradingStrictness:tradingStrictness=_0x35060e(0x216),tradingStrictnessRatio:tradingStrictnessRatio=0.6,skipSymbol:skipSymbol=[],minimumVolume:minimumVolume=0xc350,mode:mode='\x6c\x69\x76\x65',useMarketNeutralStrategy:useMarketNeutralStrategy=!![],marketNeutralMaxOpenPosition:marketNeutralMaxOpenPosition=0x2,marketNeutralAmountDollar:marketNeutralAmountDollar=0x14,marketNeutralFundingFee:marketNeutralFundingFee=0.1,useDcaStrategy:_0x21ad8c,dcaAmountDollar:dcaAmountDollar=0x19,dcaPeriod:dcaPeriod=0x240c8400,dcaTradingSymbol:dcaTradingSymbol=['\x42\x54\x43\x2f\x55\x53\x44\x54',_0x35060e(0x26e)],useDipStrategy:useDipStrategy=!![],dipEnhancedMarketPlace:dipEnhancedMarketPlace=_0x35060e(0x230),dipEnhancedStableMarket:dipEnhancedStableMarket=_0x35060e(0x27f),dipAmountPercentage:dipAmountPercentage=0xf,dipUseMarket:dipUseMarket=![],dipUseStableMarket:dipUseStableMarket=!![],dipTakeProfit:dipTakeProfit=1.04,dipStopLoss:dipStopLoss=0.97,dipMaxOpenOrder:dipMaxOpenOrder=0x2,useSpikeStrategy:useSpikeStrategy=![],spikeAmountPercentage:spikeAmountPercentage=0x5,spikeTakeProfit:spikeTakeProfit=0.985,spikeStopLoss:spikeStopLoss=1.07,spikeMaxOpenPosition:spikeMaxOpenPosition=0x1}=_0x56866b,_0x4bb6fc=await _0x29cd80[_0x35060e(0x1bf)](),_0x5150ff=database[_0x35060e(0x212)](_0x35060e(0x23f))['\x76\x61\x6c\x75\x65'](),{buyList:buyList=[],sellList:sellList=[],historyTrade:historyTrade=[]}=_0x5150ff,_0xdafba0=moment(),_0x6fbf35=[_0x35060e(0x24f),'\x55\x50',_0x35060e(0x1ea),_0x35060e(0x1d0)];if(useMarketNeutralStrategy&&_0x13c8a9==='\x62\x69\x6e\x61\x6e\x63\x65'){const _0x351872={};_0x351872[_0x35060e(0x1e1)]=!![],_0x351872[_0x35060e(0x282)]=0x2710,_0x351872[_0x35060e(0x245)]=![],_0x351872[_0x35060e(0x257)]='\x66\x75\x74\x75\x72\x65';const _0x2803f2={};_0x2803f2['\x61\x70\x69\x4b\x65\x79']=_0xc8f8c0,_0x2803f2['\x73\x65\x63\x72\x65\x74']=_0xab2243,_0x2803f2[_0x35060e(0x22e)]=_0x351872;const _0x591ffa=new ccxt[(_0x35060e(0x270))](_0x2803f2);try{const _0x46e004=await _0x591ffa[_0x35060e(0x1bf)](),_0x19579=_0x46e004[_0x35060e(0x258)](({active:_0x781f27,quote:_0x3804e4,symbol:_0x32bb2b})=>_0x781f27&&_0x3804e4===_0x35060e(0x27f)&&_0x32bb2b['\x69\x6e\x63\x6c\x75\x64\x65\x73']('\x2f')&&!skipSymbol[_0x35060e(0x233)](_0x32bb2b)&&_0x6fbf35[_0x35060e(0x279)](_0x30a8e0=>_0x32bb2b[_0x35060e(0x233)](_0x30a8e0))===-0x1),_0x4f468f=_[_0x35060e(0x1e5)](_0x4bb6fc,_0x19579,_0x35060e(0x228)),_0x2c2cbe=await fetchOpenPositions(_0x591ffa);let _0x4040a3=(await _0x29cd80[_0x35060e(0x260)]())[_0x35060e(0x27b)][_0x35060e(0x27f)],_0xe2ace7=(await _0x591ffa[_0x35060e(0x260)]())[_0x35060e(0x27b)][_0x35060e(0x27f)],_0x3387d9=_0xe2ace7>0x0?_0xe2ace7:0x0;const _0x25d741=_0x4040a3-_0x3387d9,_0xae2a5b=Math[_0x35060e(0x220)](_0x25d741/0x2);if(_0x2c2cbe[_0x35060e(0x1e2)]<marketNeutralMaxOpenPosition&&(_0x4040a3>=marketNeutralAmountDollar||_0x3387d9>=marketNeutralAmountDollar)&&_0xae2a5b>0x1){const _0x1a1f16={};_0x1a1f16[_0x35060e(0x1ee)]=_0x35060e(0x27f),_0x1a1f16[_0x35060e(0x1fc)]=_0xae2a5b,_0x1a1f16[_0x35060e(0x1db)]=0x1;const _0x49d27e={};_0x49d27e[_0x35060e(0x1ee)]=_0x35060e(0x27f),_0x49d27e['\x61\x6d\x6f\x75\x6e\x74']=_0xae2a5b,_0x49d27e[_0x35060e(0x1db)]=0x2,await(_0x25d741>0x0?_0x591ffa[_0x35060e(0x1d7)](_0x1a1f16):_0x591ffa['\x73\x61\x70\x69\x50\x6f\x73\x74\x46\x75\x74\x75\x72\x65\x73\x54\x72\x61\x6e\x73\x66\x65\x72'](_0x49d27e));}_0x4040a3=(await _0x29cd80[_0x35060e(0x260)]())[_0x35060e(0x27b)][_0x35060e(0x27f)],_0xe2ace7=(await _0x591ffa[_0x35060e(0x260)]())[_0x35060e(0x27b)]['\x55\x53\x44\x54'],_0x3387d9=_0xe2ace7>0x0?_0xe2ace7:0x0;if(!checkBalance(_0x35060e(0x27f),_0x4040a3)&&!checkBalance(_0x35060e(0x27f),_0xe2ace7)){ioEmitter(_0x37aa94,'\x67\x65\x6e\x65\x72\x61\x6c','\x59\x6f\x75\x20\x68\x61\x76\x65\x20\x74\x6f\x6f\x20\x73\x6d\x61\x6c\x6c\x20\x55\x53\x44\x54\x2c\x20\x70\x6c\x65\x61\x73\x65\x20\x64\x65\x70\x6f\x73\x69\x74\x20\x6d\x6f\x72\x65\x20\x6f\x72\x20\x63\x61\x6e\x63\x65\x6c\x20\x6f\x70\x65\x6e\x20\x6f\x72\x64\x65\x72');throw new Error(checkBalanceString);}const _0x32df41=_0x4040a3>marketNeutralAmountDollar?marketNeutralAmountDollar:_0x4040a3,_0x294cbf=_0x3387d9>marketNeutralAmountDollar?marketNeutralAmountDollar:_0x3387d9,_0x41b4bc=await Promise[_0x35060e(0x1f1)](_0x4f468f['\x6d\x61\x70'](_0x5bec7e=>limiter[_0x35060e(0x21c)](async()=>{const _0xcc6fc=_0x35060e;if(!global[_0xcc6fc(0x208)])try{const {symbol:_0x1527f8}=_0x5bec7e,_0x18465e=_[_0xcc6fc(0x279)](_0x2c2cbe,['\x73\x79\x6d\x62\x6f\x6c',_0x1527f8])===-0x1,_0x2992c4={};_0x2992c4[_0xcc6fc(0x228)]=_0x1527f8[_0xcc6fc(0x277)]('\x2f','');const _0x42fe85=_0x18465e&&Number[_0xcc6fc(0x1e4)]((await _0x591ffa['\x66\x61\x70\x69\x50\x75\x62\x6c\x69\x63\x47\x65\x74\x50\x72\x65\x6d\x69\x75\x6d\x49\x6e\x64\x65\x78'](_0x2992c4))[_0xcc6fc(0x25f)])*0x64,_0x2eacf2=loggingMessage(_0xcc6fc(0x262)+_0x1527f8+_0xcc6fc(0x1fa));if(_0x42fe85>marketNeutralFundingFee&&_0x2c2cbe['\x6c\x65\x6e\x67\x74\x68']<marketNeutralMaxOpenPosition){const _0x3bb085=await _0x29cd80[_0xcc6fc(0x236)](_0x1527f8),_0x5c3c51=await _0x591ffa['\x66\x65\x74\x63\x68\x54\x69\x63\x6b\x65\x72'](_0x1527f8),_0x575bb7=_0x3bb085[_0xcc6fc(0x222)],_0x41f8bc=_0x5c3c51['\x6c\x61\x73\x74'];if(_0x32df41===marketNeutralAmountDollar&&_0x294cbf===marketNeutralAmountDollar){const _0x11b71a=await calculateAmount2Buy(_0x29cd80,_0x1527f8,_0x32df41/_0x575bb7*0.9975,_0x575bb7),_0x2c660f=await calculateAmount2Buy(_0x591ffa,_0x1527f8,_0x294cbf/_0x41f8bc*0.9975,_0x41f8bc),_0x52a24a=_0x11b71a>_0x2c660f?_0x2c660f:_0x11b71a;console[_0xcc6fc(0x266)](_0x2eacf2,'\x53\x55\x43\x43\x45\x53\x53');const _0x26b77b={..._0x5bec7e};return _0x26b77b[_0xcc6fc(0x264)]=_0x42fe85,_0x26b77b[_0xcc6fc(0x246)]=_0x575bb7,_0x26b77b[_0xcc6fc(0x1fd)]=_0x41f8bc,_0x26b77b[_0xcc6fc(0x1d1)]=_0x52a24a,_0x26b77b[_0xcc6fc(0x25a)]=_0xcc6fc(0x273),_0x26b77b;}}return console[_0xcc6fc(0x266)](_0x2eacf2,_0xcc6fc(0x1fb)),undefined;}catch(_0x131b56){return console[_0xcc6fc(0x249)](_0x131b56),logger[_0xcc6fc(0x249)](_0x131b56),undefined;}return undefined;})));if(global[_0x35060e(0x208)])throw new Error(stopBotString);const _0x44682e=_[_0x35060e(0x20d)](_0x41b4bc);if(_0x44682e[_0x35060e(0x1e2)]===0x0){ioEmitter(_0x37aa94,_0x35060e(0x265),_0x35060e(0x1f3));throw new Error(checkShouldBuyString);}else{const {rate2Long:_0x497386,rate2Short:_0x550abd,amount2Exec:_0x3afdb3,symbol:_0xaa8e41,method:_0x37f87e}=_[_0x35060e(0x21a)](_0x44682e,'\x66\x75\x6e\x64\x69\x6e\x67\x52\x61\x74\x65')||_[_0x35060e(0x238)](_0x44682e),_0x446203=buyList['\x66\x69\x6e\x64\x49\x6e\x64\x65\x78'](_0xaa0f7a=>_0xaa0f7a[_0x35060e(0x228)]===_0xaa8e41&&_0xaa0f7a[_0x35060e(0x25a)]===_0x37f87e),_0x27b66c=sellList[_0x35060e(0x279)](_0x560496=>_0x560496[_0x35060e(0x228)]===_0xaa8e41&&_0x560496[_0x35060e(0x25a)]===_0x37f87e);if(_0x446203===-0x1&&_0x27b66c===-0x1){const {precision:{amount:_0x1d0906}}=_0x4bb6fc['\x66\x69\x6e\x64'](_0x326e50=>_0x326e50[_0x35060e(0x228)]===_0xaa8e41);if(mode==='\x6c\x69\x76\x65'){const _0x4d48a7={};_0x4d48a7['\x73\x79\x6d\x62\x6f\x6c']=_0xaa8e41[_0x35060e(0x277)]('\x2f',''),_0x4d48a7['\x6c\x65\x76\x65\x72\x61\x67\x65']=0x1,await _0x591ffa[_0x35060e(0x27c)](_0x4d48a7);const _0x23091e=await _0x29cd80[_0x35060e(0x232)](_0xaa8e41,_0x3afdb3[_0x35060e(0x1d2)](_0x1d0906)[_0x35060e(0x1bd)]()),_0x4329bd=await _0x591ffa[_0x35060e(0x1ff)](_0xaa8e41,_0x3afdb3[_0x35060e(0x1d2)](_0x1d0906)[_0x35060e(0x1bd)]());await writeBuyList(_0xaa8e41,_0x23091e['\x69\x64'],undefined,_0x37f87e),await writeSellList(_0xaa8e41,undefined,_0x4329bd['\x69\x64'],_0x37f87e),messageTrade(_0x23091e,_0x35060e(0x1d9)+_0x37f87e+_0x35060e(0x1fe),_0x3afdb3,_0xaa8e41,_0x497386,_0x49644f,_0x57fd34,_0x37aa94,'\x74\x72\x69\x67\x67\x65\x72\x42\x75\x79'),messageTrade(_0x4329bd,_0x35060e(0x1ca)+_0x37f87e+_0x35060e(0x1fe),_0x3afdb3,_0xaa8e41,_0x550abd,_0x49644f,_0x57fd34,_0x37aa94,_0x35060e(0x26d));}else mode===_0x35060e(0x254)&&(_0x49644f[_0x35060e(0x20a)](_0x35060e(0x1f7),_0x57fd34,_0x35060e(0x211)+_0xaa8e41+'\x20\x61\x74\x20\x72\x61\x74\x65\x20\x3d\x20'+_0x497386+_0x35060e(0x1f0)),_0x49644f[_0x35060e(0x20a)](_0x35060e(0x1f7),_0x57fd34,_0x35060e(0x1f4)+_0xaa8e41+_0x35060e(0x268)+_0x550abd+_0x35060e(0x21e)));}else throw new Error(_0x35060e(0x1de));}throw new Error(SuccessfulString);}catch(_0x105126){try{ioEmitter(_0x37aa94,'\x65\x72\x72\x6f\x72',_0x105126[_0x35060e(0x1f7)]);_0x105126[_0x35060e(0x1f7)]===SuccessfulString&&logger[_0x35060e(0x249)](_0x105126);const _0x25fd02=await fetchOpenPositions(_0x591ffa),_0x1eb9e6=await _0x591ffa[_0x35060e(0x21f)](),_0x5a75c5=_0x25fd02[_0x35060e(0x258)](_0x397347=>sellList[_0x35060e(0x279)](({symbol:_0x2b4b32,method:_0x585eb1})=>_0x397347['\x73\x79\x6d\x62\x6f\x6c']===_0x2b4b32&&_0x585eb1==='\x4d\x61\x72\x6b\x65\x74\x4e\x65\x75\x74\x72\x61\x6c')!==-0x1);if(_0x5a75c5[_0x35060e(0x1e2)]>0x0)await Promise['\x61\x6c\x6c'](_0x25fd02[_0x35060e(0x1ba)](({symbol:_0x2e2174,positionAmt:_0x28b54a,liquidationPrice:_0x36d55a})=>limiter[_0x35060e(0x21c)](async()=>{const _0x457cc8=_0x35060e,_0x3f887e=await _0x29cd80[_0x457cc8(0x236)](_0x2e2174),_0x20fd5f=await _0x591ffa[_0x457cc8(0x236)](_0x2e2174),_0x5269a0={};_0x5269a0[_0x457cc8(0x228)]=_0x2e2174[_0x457cc8(0x277)]('\x2f','');const _0x18ce75=Number[_0x457cc8(0x1e4)]((await _0x591ffa['\x66\x61\x70\x69\x50\x75\x62\x6c\x69\x63\x47\x65\x74\x50\x72\x65\x6d\x69\x75\x6d\x49\x6e\x64\x65\x78'](_0x5269a0))[_0x457cc8(0x25f)])*0x64,_0x557ae0=Math['\x61\x62\x73'](_0x28b54a),_0x432f72=await calculateAmount2Sell(_0x29cd80,_0x2e2174,_0x557ae0),_0x37d6ba=isAmountOk(_0x2e2174,_0x432f72,_0x3f887e[_0x457cc8(0x24d)]),_0x191b9d=_0x36d55a*0.8;if((_0x18ce75<0.01||_0x20fd5f[_0x457cc8(0x222)]>=_0x191b9d)&&_0x37d6ba){await _0x29cd80['\x63\x72\x65\x61\x74\x65\x4d\x61\x72\x6b\x65\x74\x53\x65\x6c\x6c\x4f\x72\x64\x65\x72'](_0x2e2174,_0x557ae0);const _0x210218={};_0x210218[_0x457cc8(0x228)]=_0x2e2174[_0x457cc8(0x277)]('\x2f',''),_0x210218[_0x457cc8(0x23a)]='\x42\x55\x59',_0x210218[_0x457cc8(0x1db)]=_0x457cc8(0x1df),_0x210218[_0x457cc8(0x22b)]=_0x557ae0,_0x210218[_0x457cc8(0x27d)]=!![];const {origQty:_0x19c4aa}=await _0x591ffa[_0x457cc8(0x1eb)](_0x210218),_0x33dd10=_0x457cc8(0x1d5)+_0x19c4aa+'\x20'+_0x2e2174+_0x457cc8(0x268)+_0x3f887e['\x6c\x61\x73\x74']+_0x457cc8(0x1f0);ioEmitter(_0x37aa94,'\x74\x72\x69\x67\x67\x65\x72\x42\x75\x79',_0x33dd10),_0x49644f['\x65\x6d\x69\x74']('\x6d\x65\x73\x73\x61\x67\x65',_0x57fd34,_0x33dd10);const _0x1d632b=_0x457cc8(0x1d5)+_0x19c4aa+'\x20'+_0x2e2174+_0x457cc8(0x268)+_0x20fd5f[_0x457cc8(0x222)]+_0x457cc8(0x21e);ioEmitter(_0x37aa94,_0x457cc8(0x1c3),_0x1d632b),_0x49644f[_0x457cc8(0x20a)](_0x457cc8(0x1f7),_0x57fd34,_0x1d632b),_[_0x457cc8(0x237)](buyList,_0x27da9c=>_0x27da9c[_0x457cc8(0x228)]===_0x2e2174&&_0x27da9c[_0x457cc8(0x25a)][_0x457cc8(0x233)](_0x457cc8(0x273))),_[_0x457cc8(0x237)](sellList,_0x355f3e=>_0x355f3e['\x73\x79\x6d\x62\x6f\x6c']===_0x2e2174&&_0x355f3e[_0x457cc8(0x25a)]['\x69\x6e\x63\x6c\x75\x64\x65\x73']('\x4d\x61\x72\x6b\x65\x74\x4e\x65\x75\x74\x72\x61\x6c'));const _0x4a3745={..._0x5150ff};_0x4a3745[_0x457cc8(0x250)]=historyTrade[_0x457cc8(0x20e)](-0xc8),await database[_0x457cc8(0x206)](_0x457cc8(0x23f),_0x4a3745)[_0x457cc8(0x213)]();}})));else{if(_0x5a75c5['\x6c\x65\x6e\x67\x74\x68']===0x0){_[_0x35060e(0x237)](sellList,_0x5870a6=>_0x1eb9e6[_0x35060e(0x279)](({symbol:_0x3bba1c})=>_0x5870a6[_0x35060e(0x228)]===_0x3bba1c)===-0x1&&_0x5870a6[_0x35060e(0x25a)][_0x35060e(0x233)](_0x35060e(0x273)));const _0x56b3cf={..._0x5150ff};_0x56b3cf['\x68\x69\x73\x74\x6f\x72\x79\x54\x72\x61\x64\x65']=historyTrade['\x73\x6c\x69\x63\x65'](-0xc8),await database[_0x35060e(0x206)](_0x35060e(0x23f),_0x56b3cf)[_0x35060e(0x213)]();}}}catch(_0x4f3ce4){ioEmitter(_0x37aa94,'\x65\x72\x72\x6f\x72',_0x4f3ce4[_0x35060e(0x1f7)]),logger[_0x35060e(0x249)](_0x4f3ce4);}}}if(_0x21ad8c)try{const _0x4b9e62=await _0x29cd80[_0x35060e(0x260)](),_0x575e31=await _0x29cd80[_0x35060e(0x21f)](),_0x532cdb=dcaTradingSymbol['\x6d\x61\x70'](_0x1e87fa=>({'\x73\x79\x6d\x62\x6f\x6c':_0x1e87fa}));await checkOpenOrder(_0x29cd80,_0x37aa94,buyList,limiter,_0x35060e(0x214),_0x49644f,_0x57fd34,_0x4bb6fc,timeOrder,_0x4b9e62);const _0x2ca562=await fetchCandleMarkets(_0x29cd80,limiter,_0x532cdb,enhancedTimeFrame);if(global[_0x35060e(0x208)])throw new Error(stopBotString);const _0x1237e1=_[_0x35060e(0x20d)](_0x2ca562),_0x2fb013=await Promise[_0x35060e(0x1f1)](_0x1237e1[_0x35060e(0x1ba)](_0x56e5d9=>limiter[_0x35060e(0x21c)](async()=>{const _0x31c278=_0x35060e;if(!global[_0x31c278(0x208)])try{const {symbol:_0x2b65f8,opens:_0x54d26f,highs:_0x7da4fc,lows:_0x544e90,closes:_0x469e10,volumes:_0x2ece54,last:_0x334149}=_0x56e5d9,{lastBBLower:_0x135f35}=await commonIndicator(_0x29cd80,_0x7da4fc,_0x544e90,_0x54d26f,_0x469e10,_0x2ece54,_0x334149,_0x2b65f8,tradingStrictnessRatio),_0x1f6c33=loggingMessage(_0x31c278(0x262)+_0x2b65f8+_0x31c278(0x1fa));if(_0x334149<_0x135f35){console[_0x31c278(0x266)](_0x1f6c33,_0x31c278(0x207));const _0x5895cd={..._0x56e5d9};return _0x5895cd[_0x31c278(0x25a)]=_0x31c278(0x214),_0x5895cd;}return console[_0x31c278(0x266)](_0x1f6c33,_0x31c278(0x1fb)),undefined;}catch(_0x15637c){return console[_0x31c278(0x249)](_0x15637c),logger['\x65\x72\x72\x6f\x72'](_0x15637c),undefined;}return undefined;})));if(global[_0x35060e(0x208)])throw new Error(stopBotString);const _0x106b4d=_[_0x35060e(0x20d)](_0x2fb013);if(_0x106b4d[_0x35060e(0x1e2)]===0x0){ioEmitter(_0x37aa94,_0x35060e(0x265),nothingToBuyString);throw new Error(checkShouldBuyString);}else{const {symbol:_0x5c4a6f,bid:_0x4128c7,method:_0x206715}=_[_0x35060e(0x238)](_0x106b4d),[_0x3fc8c1]=_0x5c4a6f[_0x35060e(0x247)](reQuote),_0x50d829=dcaAmountDollar>_0x4b9e62[_0x35060e(0x27b)][_0x3fc8c1]?_0x4b9e62[_0x35060e(0x27b)][_0x3fc8c1]:dcaAmountDollar,_0x2aa1b9=await _0x29cd80[_0x35060e(0x283)](_0x5c4a6f),_0x3ba7eb=_0x2aa1b9[_0x35060e(0x1e2)]===0x0?!![]:moment[_0x35060e(0x202)](_0xdafba0[_0x35060e(0x1dc)](moment(_[_0x35060e(0x222)](_0x2aa1b9)['\x64\x61\x74\x65\x74\x69\x6d\x65'])))[_0x35060e(0x225)]()>=dcaPeriod,_0x4ea3be=_0x575e31[_0x35060e(0x279)](_0x9aea99=>_0x9aea99['\x73\x79\x6d\x62\x6f\x6c']===_0x5c4a6f);if(!checkBalance(_0x3fc8c1,_0x50d829)){ioEmitter(_0x37aa94,_0x35060e(0x265),_0x35060e(0x25c)+_0x3fc8c1+_0x35060e(0x263));throw new Error(checkBalanceString);}if(_0x3ba7eb&&_0x4ea3be===-0x1){const _0x3dc314=_0x4128c7,{precision:{amount:_0x29e81e,price:_0x587c6a}}=_0x4bb6fc[_0x35060e(0x1ce)](_0x45aba9=>_0x45aba9[_0x35060e(0x228)]===_0x5c4a6f),_0x1f3497=await calculateAmount2Buy(_0x29cd80,_0x5c4a6f,_0x50d829/_0x3dc314*0.9975,_0x3dc314);if(mode===_0x35060e(0x235)){const _0x3a5ab1=await _0x29cd80[_0x35060e(0x1c1)](_0x5c4a6f,_0x1f3497[_0x35060e(0x1d2)](_0x29e81e)['\x6e\x6f\x45\x78\x70\x6f\x6e\x65\x6e\x74\x73'](),_0x3dc314[_0x35060e(0x1d2)](_0x587c6a)[_0x35060e(0x1bd)]());await writeBuyList(_0x5c4a6f,_0x3a5ab1['\x69\x64'],undefined,_0x206715),messageTrade(_0x3a5ab1,_0x35060e(0x243)+_0x206715+'\x20\x73\x74\x72\x61\x74\x65\x67\x79\x29',_0x1f3497,_0x5c4a6f,_0x3dc314,_0x49644f,_0x57fd34,_0x37aa94,_0x35060e(0x1c3));}else mode===_0x35060e(0x254)&&_0x49644f[_0x35060e(0x20a)](_0x35060e(0x1f7),_0x57fd34,_0x35060e(0x275)+_0x5c4a6f+_0x35060e(0x268)+_0x3dc314);}else throw new Error(_0x35060e(0x22d));}throw new Error(SuccessfulString);}catch(_0x14beda){ioEmitter(_0x37aa94,_0x35060e(0x249),_0x14beda[_0x35060e(0x1f7)]),_0x14beda[_0x35060e(0x1f7)]===SuccessfulString&&logger[_0x35060e(0x249)](_0x14beda);}if(useDipStrategy)try{await checkStopLoss(_0x29cd80,_0x37aa94,limiter,sellList,_0x4bb6fc,_0x35060e(0x210),breakEven,_0x49644f,_0x57fd34);const _0x39eedf=new RegExp(dipEnhancedMarketPlace+'\x24','\x67'),_0x5f47e6={};_0x5f47e6[_0x35060e(0x1e1)]=!![],_0x5f47e6['\x72\x65\x63\x76\x57\x69\x6e\x64\x6f\x77']=0x2710,_0x5f47e6[_0x35060e(0x245)]=![];const _0x5a44ab={};_0x5a44ab[_0x35060e(0x22e)]=_0x5f47e6;const _0x51e216=new ccxt[(_0x35060e(0x270))](_0x5a44ab),_0x56e8df=await _0x51e216[_0x35060e(0x1bf)](),_0x5457b0=_0x56e8df['\x66\x69\x6c\x74\x65\x72'](({active:_0xe14c6d,quote:_0x41db76,symbol:_0x113f4a})=>_0xe14c6d&&_0x41db76===dipEnhancedMarketPlace&&!skipSymbol[_0x35060e(0x233)](_0x113f4a)&&_0x6fbf35[_0x35060e(0x279)](_0x21f60f=>_0x113f4a[_0x35060e(0x233)](_0x21f60f))===-0x1),_0x25635f=_0x56e8df[_0x35060e(0x258)](({active:_0x1b9bb9,quote:_0x3ff8b2,symbol:_0x41c861})=>_0x1b9bb9&&_0x3ff8b2===dipEnhancedStableMarket&&!skipSymbol['\x69\x6e\x63\x6c\x75\x64\x65\x73'](_0x41c861)&&_0x6fbf35[_0x35060e(0x279)](_0x27893e=>_0x41c861[_0x35060e(0x233)](_0x27893e))===-0x1),_0x5be73=_0x4bb6fc['\x66\x69\x6c\x74\x65\x72'](({active:_0x2d28e6,quote:_0x581af0,symbol:_0x54ebbb})=>_0x2d28e6&&_0x581af0===dipEnhancedMarketPlace&&!skipSymbol[_0x35060e(0x233)](_0x54ebbb)&&_0x6fbf35[_0x35060e(0x279)](_0x1465a6=>_0x54ebbb[_0x35060e(0x233)](_0x1465a6))===-0x1),_0x2c17e5=_0x4bb6fc['\x66\x69\x6c\x74\x65\x72'](({active:_0x52684f,quote:_0x409523,symbol:_0x403ee6})=>_0x52684f&&_0x409523===dipEnhancedStableMarket&&!skipSymbol[_0x35060e(0x233)](_0x403ee6)&&_0x6fbf35[_0x35060e(0x279)](_0x312c6f=>_0x403ee6['\x69\x6e\x63\x6c\x75\x64\x65\x73'](_0x312c6f))===-0x1),_0x952634=_['\x69\x6e\x74\x65\x72\x73\x65\x63\x74\x69\x6f\x6e\x42\x79'](_0x5be73,_0x5457b0,_0x35060e(0x228)),_0x5becf3=_[_0x35060e(0x1e5)](_0x2c17e5,_0x25635f,_0x35060e(0x228)),_0x5b0af1=_[_0x35060e(0x26a)](_0x5be73,_0x5457b0,'\x73\x79\x6d\x62\x6f\x6c'),_0x4ea7c4=_[_0x35060e(0x26a)](_0x2c17e5,_0x25635f,_0x35060e(0x228)),_0x3d560b=await _0x29cd80[_0x35060e(0x260)](),_0x42b415=[...buyList,...sellList][_0x35060e(0x258)](({method:_0x1e24e9})=>_0x1e24e9[_0x35060e(0x233)](_0x35060e(0x210))),_0x38b3cb=await calculateBalance(_0x29cd80,_0x3d560b,_0x42b415,dipEnhancedMarketPlace,dipAmountPercentage,reinvestment,_0x35060e(0x210),_0x49644f,_0x57fd34),_0x47ea44=await calculateBalance(_0x29cd80,_0x3d560b,_0x42b415,dipEnhancedStableMarket,dipAmountPercentage,reinvestment,_0x35060e(0x210),_0x49644f,_0x57fd34),_0x1acfe2=await checkOpenOrder(_0x29cd80,_0x37aa94,buyList,limiter,_0x35060e(0x210),_0x49644f,_0x57fd34,_0x4bb6fc,timeOrder,_0x3d560b,dipTakeProfit,dipStopLoss);_0x1acfe2[_0x35060e(0x281)](_0x100846=>_0x100846)&&(weight=0x1);if(!checkBalance(dipEnhancedMarketPlace,_0x38b3cb)&&!checkBalance(dipEnhancedStableMarket,_0x47ea44)){ioEmitter(_0x37aa94,_0x35060e(0x265),'\x59\x6f\x75\x20\x68\x61\x76\x65\x20\x74\x6f\x6f\x20\x73\x6d\x61\x6c\x6c\x20'+dipEnhancedMarketPlace+_0x35060e(0x215)+dipEnhancedStableMarket+_0x35060e(0x263));throw new Error(checkBalanceString);}let _0x10fb46=[];if(dipUseStableMarket&&dipUseMarket&&checkBalance(dipEnhancedMarketPlace,_0x38b3cb)&&checkBalance(dipEnhancedStableMarket,_0x47ea44)){const _0x4c876d={};_0x4c876d[_0x35060e(0x1f8)]=[..._0x952634,..._0x5becf3],_0x4c876d[_0x35060e(0x1bc)]=[..._0x5b0af1,..._0x4ea7c4],_0x10fb46=_0x4c876d;}else{if(dipUseStableMarket&&checkBalance(dipEnhancedStableMarket,_0x47ea44)){const _0x281260={};_0x281260[_0x35060e(0x1f8)]=_0x5becf3,_0x281260['\x64\x69\x66\x66\x65\x72\x65\x6e\x63\x65']=_0x4ea7c4,_0x10fb46=_0x281260;}else{if(dipUseMarket&&checkBalance(dipEnhancedMarketPlace,_0x38b3cb)){const _0x758b32={};_0x758b32[_0x35060e(0x1f8)]=_0x952634,_0x758b32[_0x35060e(0x1bc)]=_0x5b0af1,_0x10fb46=_0x758b32;}else{const _0x15ba92={};_0x15ba92[_0x35060e(0x1f8)]=[],_0x15ba92[_0x35060e(0x1bc)]=[],_0x10fb46=_0x15ba92;}}}if(_0x10fb46[_0x35060e(0x1f8)][_0x35060e(0x1e2)]===0x0&&_0x10fb46[_0x35060e(0x1bc)][_0x35060e(0x1e2)]===0x0){ioEmitter(_0x37aa94,_0x35060e(0x265),_0x35060e(0x23c));throw new Error(_0x35060e(0x1e6));}const _0x20144b=await fetchCandleMarkets(_0x51e216,ultimateLimiter,_0x10fb46[_0x35060e(0x1f8)],enhancedTimeFrame);if(global[_0x35060e(0x208)])throw new Error(stopBotString);const _0x5e937e=_0x10fb46['\x64\x69\x66\x66\x65\x72\x65\x6e\x63\x65'][_0x35060e(0x279)](_0x17fdbe=>_0x17fdbe[_0x35060e(0x228)]===global['\x6c\x61\x73\x74\x53\x63\x61\x6e\x6e\x65\x64\x53\x79\x6d\x62\x6f\x6c']),_0x56955a=_0x5e937e!==-0x1?_0x10fb46[_0x35060e(0x1bc)]['\x73\x6c\x69\x63\x65'](_0x5e937e):_0x10fb46[_0x35060e(0x1bc)],_0x1dad8a=_0x56955a[_0x35060e(0x1e2)],_0x12530e=await Promise[_0x35060e(0x1f1)](_0x56955a[_0x35060e(0x1ba)](({symbol:_0x1e2d6c},_0x776dae)=>limiter[_0x35060e(0x21c)](async()=>{const _0x20d711=_0x35060e;try{if(!global[_0x20d711(0x1ed)]&&!global[_0x20d711(0x208)]){_0x776dae+0x1===_0x1dad8a&&(global[_0x20d711(0x229)]=undefined);const _0x65f0f2=await fetchCandle(_0x29cd80,_0x1e2d6c,enhancedTimeFrame),{candleLength:_0x98f496}=_0x65f0f2;if(_0x98f496>0x1c2){const _0xe97c46=await _0x29cd80[_0x20d711(0x236)](_0x1e2d6c);console[_0x20d711(0x266)](loggingMessage(_0x20d711(0x201)+_0x1e2d6c)),global[_0x20d711(0x229)]=_0x1e2d6c;_0x776dae+0x1===_0x1dad8a&&(global['\x6c\x61\x73\x74\x53\x63\x61\x6e\x6e\x65\x64\x53\x79\x6d\x62\x6f\x6c']=undefined);const _0x2c36bc={'\x73\x79\x6d\x62\x6f\x6c':_0x1e2d6c,..._0x65f0f2,..._0xe97c46};return _0x2c36bc;}}return undefined;}catch(_0x5e0a75){if(_0x5e0a75[_0x20d711(0x1f7)][_0x20d711(0x233)](_0x20d711(0x1cf))||_0x5e0a75[_0x20d711(0x1f7)]['\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65']()[_0x20d711(0x233)](_0x20d711(0x1be))){global[_0x20d711(0x229)]=_0x1e2d6c,global[_0x20d711(0x1ed)]=!![],global[_0x20d711(0x20f)]=!![];if(global[_0x20d711(0x1ed)]){const _0x329d31={};_0x329d31[_0x20d711(0x203)]=0x1,_0x329d31[_0x20d711(0x26b)]=0x0,limiter[_0x20d711(0x284)](_0x329d31);}return undefined;}return!_0x5e0a75[_0x20d711(0x1f7)][_0x20d711(0x233)](_0x20d711(0x1da))&&(console[_0x20d711(0x249)](_0x5e0a75),logger['\x65\x72\x72\x6f\x72'](_0x5e0a75)),undefined;}})));if(global[_0x35060e(0x208)])throw new Error(stopBotString);const _0x271367=[..._[_0x35060e(0x20d)](_0x20144b),..._['\x63\x6f\x6d\x70\x61\x63\x74'](_0x12530e)],_0x3f1c0f=await _0x29cd80[_0x35060e(0x21f)]();if(_0x3f1c0f[_0x35060e(0x1e2)]>=dipMaxOpenOrder){ioEmitter(_0x37aa94,_0x35060e(0x265),_0x35060e(0x1e8));throw new Error(_0x35060e(0x1b8));}await fudAndFomoRate(_0x29cd80,_0x37aa94,limiter,_0x271367,_0x3f1c0f,_0x42b415,_0x35060e(0x210));const _0x398b09=await Promise[_0x35060e(0x1f1)](_0x271367[_0x35060e(0x1ba)](_0x282f13=>limiter[_0x35060e(0x21c)](async()=>{const _0x2eb4d8=_0x35060e;if(!global[_0x2eb4d8(0x208)])try{const {symbol:_0x35a809,opens:_0x33d790,highs:_0x2fab0d,lows:_0x4f5b5e,closes:_0x1c4ef2,volumes:_0x541139,last:_0x4e76f6,bid:_0x4952a6,ask:_0x5a190f,quoteVolume:_0x1f40a2}=_0x282f13,{dipBaseRate:_0x4b8015,lastOpen:_0x4bcd88,lastClose:_0x1353fc,lastLow:_0x5cfd03,lastCandle:_0x4429f8,secondLastCandle:_0xcf6899,thirdLastCandle:_0x5de60a,lastRSI:_0x5d9d32,secondLastRSI:_0x494b4a,thirdLastRSI:_0x287dfa,lastEMA:_0x4c5ff8,lastEMARSI:_0x5587ab,lastBBUpper:_0x122f36,spikyVal:_0x1c3d9b,changeBB:_0x2c73d0,bidOrderThickness:_0x4dac2b,closeDiff:_0x40e269,lastVolOsc:_0x541d5d,volDiff:_0x22d4f9}=await commonIndicator(_0x29cd80,_0x2fab0d,_0x4f5b5e,_0x33d790,_0x1c4ef2,_0x541139,_0x4e76f6,_0x35a809,tradingStrictnessRatio),_0x3d3768=_0x22d4f9>=0.75||_0x541d5d>0x0,_0x54f479=weightedMean([[Number(_0x4e76f6>=0.000001),7.5],[Number(_0x1353fc/_0x4bcd88>0.95),7.5],[Number(_0x5cfd03/_0x4bcd88>0.93),0x5],[Number(_0x4952a6/_0x5a190f>0.97),0x5],[Number(_0x5587ab>=0x23),6.25],[Number(_0x4e76f6<=_0x4c5ff8),0xa],[Number(_0x1c3d9b<=2.5),12.5],[Number(_0x2c73d0>=1.08&&_0x2c73d0<=1.15),0xf],[Number(_0x4dac2b>=0.95),5.25],[Number(_0x3d3768),0x6],[Number(_0x40e269<=1.025),7.25],[Number(_0x5d9d32<=0x23),12.75]]),_0x4905c1=_0x4952a6*dipTakeProfit<=_0x122f36&&_0x494b4a>_0x287dfa&&_0x5d9d32>_0x287dfa*1.05,_0x43c7b3=loggingMessage(_0x2eb4d8(0x262)+_0x35a809+_0x2eb4d8(0x1fa)),_0x5642de=weight*tradingStrictnessRatio,_0x50be58=dipMarkPrice[_0x2eb4d8(0x212)](_0x35a809);if(!_0x50be58&&_0x4e76f6<=_0x4b8015||tradingStrictness===_0x2eb4d8(0x251)){const _0x222f5b={};_0x222f5b[_0x2eb4d8(0x255)]=moment()[_0x2eb4d8(0x234)](),dipMarkPrice['\x73\x65\x74'](_0x35a809,_0x222f5b);}const _0x604afe=_0x50be58&&moment[_0x2eb4d8(0x202)](_0xdafba0[_0x2eb4d8(0x1dc)](_0x50be58[_0x2eb4d8(0x255)]))[_0x2eb4d8(0x22a)]();if(_0x4429f8>0x0&&_0xcf6899>0x0&&_0x5de60a<0x0&&_0x604afe<=0x5&&_0x4905c1&&_0x54f479>=_0x5642de&&await checkQuoteVolume(_0x29cd80,_0x35a809,_0x1f40a2,minimumVolume)&&await isGoodCoin(_0x13c8a9,_0x35a809,_0x4bb6fc)||tradingStrictness===_0x2eb4d8(0x251)){console[_0x2eb4d8(0x266)](_0x43c7b3,_0x2eb4d8(0x207)),dipMarkPrice[_0x2eb4d8(0x1c5)](_0x35a809);const _0x395b13={..._0x282f13};return _0x395b13[_0x2eb4d8(0x217)]=_0x4b8015,_0x395b13[_0x2eb4d8(0x25a)]=_0x2eb4d8(0x210),_0x395b13;}return _0x604afe>0x5&&dipMarkPrice[_0x2eb4d8(0x1c5)](_0x35a809),console[_0x2eb4d8(0x266)](_0x43c7b3,_0x2eb4d8(0x1fb)),undefined;}catch(_0x4719cd){return console[_0x2eb4d8(0x249)](_0x4719cd),logger['\x65\x72\x72\x6f\x72'](_0x4719cd),undefined;}return undefined;})));if(global[_0x35060e(0x208)])throw new Error(stopBotString);const _0x2aff2f=_[_0x35060e(0x20d)](_0x398b09);if(_0x2aff2f['\x6c\x65\x6e\x67\x74\x68']===0x0){ioEmitter(_0x37aa94,_0x35060e(0x265),nothingToBuyString);if(global[_0x35060e(0x20f)])throw new Error(_0x35060e(0x1cf));throw new Error(checkShouldBuyString);}else{const {symbol:_0x5c763d,bid:_0x55fe5e,method:_0x51049f}=_['\x6d\x61\x78\x42\x79'](_0x2aff2f,_0x35060e(0x23b))||_[_0x35060e(0x238)](_0x2aff2f),_0x47bf8c=await _0x29cd80[_0x35060e(0x283)](_0x5c763d),_0x2f6639=_0x47bf8c[_0x35060e(0x1e2)]===0x0?!![]:_[_0x35060e(0x222)](_0x47bf8c)[_0x35060e(0x23a)]===_0x35060e(0x1c4),_0x1e63b3=_0x47bf8c['\x6c\x65\x6e\x67\x74\x68']===0x0?!![]:moment[_0x35060e(0x202)](_0xdafba0['\x64\x69\x66\x66'](moment(_['\x6c\x61\x73\x74'](_0x47bf8c)[_0x35060e(0x1c6)])))[_0x35060e(0x22a)]()>=0x1,_0x594fd5=_0x3f1c0f[_0x35060e(0x279)](_0x45773d=>_0x45773d[_0x35060e(0x228)]===_0x5c763d),_0x1a1878=buyList[_0x35060e(0x279)](_0x3dc225=>_0x3dc225['\x73\x79\x6d\x62\x6f\x6c']===_0x5c763d&&_0x3dc225['\x6d\x65\x74\x68\x6f\x64']===_0x51049f);if(_0x2f6639&&_0x1e63b3&&_0x594fd5===-0x1&&_0x1a1878===-0x1){const {precision:{amount:_0x18a00e,price:_0x5651cf}}=_0x4bb6fc['\x66\x69\x6e\x64'](_0x2c9718=>_0x2c9718['\x73\x79\x6d\x62\x6f\x6c']===_0x5c763d),_0x596575=_0x55fe5e,_0x544a08=_0x39eedf[_0x35060e(0x1b7)](_0x5c763d)?_0x38b3cb:_0x47ea44,_0x2d903d=await calculateAmount2Buy(_0x29cd80,_0x5c763d,_0x544a08/_0x596575*0.9975,_0x596575);if(mode===_0x35060e(0x235)){const _0x34658c=await _0x29cd80['\x63\x72\x65\x61\x74\x65\x4c\x69\x6d\x69\x74\x42\x75\x79\x4f\x72\x64\x65\x72'](_0x5c763d,_0x2d903d['\x74\x6f\x46\x69\x78\x65\x64\x4e\x75\x6d\x62\x65\x72'](_0x18a00e)[_0x35060e(0x1bd)](),_0x596575[_0x35060e(0x1d2)](_0x5651cf)['\x6e\x6f\x45\x78\x70\x6f\x6e\x65\x6e\x74\x73']());await writeBuyList(_0x5c763d,_0x34658c['\x69\x64'],undefined,_0x51049f,dipTakeProfit,dipStopLoss),messageTrade(_0x34658c,_0x35060e(0x243)+_0x51049f+_0x35060e(0x1fe),_0x2d903d,_0x5c763d,_0x596575,_0x49644f,_0x57fd34,_0x37aa94,_0x35060e(0x1c3));}else mode===_0x35060e(0x254)&&_0x49644f[_0x35060e(0x20a)]('\x6d\x65\x73\x73\x61\x67\x65',_0x57fd34,_0x35060e(0x275)+_0x5c763d+_0x35060e(0x268)+_0x596575);}else throw new Error(_0x35060e(0x22d));}throw new Error(SuccessfulString);}catch(_0x5c2524){try{ioEmitter(_0x37aa94,_0x35060e(0x249),_0x5c2524['\x6d\x65\x73\x73\x61\x67\x65']),_0x5c2524['\x6d\x65\x73\x73\x61\x67\x65']===SuccessfulString&&logger[_0x35060e(0x249)](_0x5c2524);}catch(_0x1a5697){ioEmitter(_0x37aa94,_0x35060e(0x249),_0x1a5697[_0x35060e(0x1f7)]),logger[_0x35060e(0x249)](_0x1a5697);}}if(useSpikeStrategy&&_0x13c8a9===_0x35060e(0x270)){let _0x16ac6d=[];const _0x20fae4={};_0x20fae4['\x61\x64\x6a\x75\x73\x74\x46\x6f\x72\x54\x69\x6d\x65\x44\x69\x66\x66\x65\x72\x65\x6e\x63\x65']=!![],_0x20fae4[_0x35060e(0x282)]=0x2710,_0x20fae4[_0x35060e(0x245)]=![],_0x20fae4[_0x35060e(0x257)]=_0x35060e(0x1bb);const _0x51173a={};_0x51173a['\x61\x70\x69\x4b\x65\x79']=_0xc8f8c0,_0x51173a[_0x35060e(0x1b9)]=_0xab2243,_0x51173a['\x6f\x70\x74\x69\x6f\x6e\x73']=_0x20fae4;const _0x4c93d6=new ccxt[(_0x35060e(0x270))](_0x51173a);try{_0x16ac6d=await _0x4c93d6[_0x35060e(0x1bf)](),await checkStopLoss(_0x4c93d6,_0x37aa94,limiter,buyList,_0x16ac6d,_0x35060e(0x1e9),breakEven,_0x49644f,_0x57fd34);const _0x4869bf=_0x16ac6d[_0x35060e(0x258)](({active:_0x58ce12,quote:_0x46c4bc,symbol:_0xf98637})=>_0x58ce12&&_0x46c4bc===_0x35060e(0x27f)&&_0xf98637['\x69\x6e\x63\x6c\x75\x64\x65\x73']('\x2f')&&!skipSymbol[_0x35060e(0x233)](_0xf98637)&&_0x6fbf35['\x66\x69\x6e\x64\x49\x6e\x64\x65\x78'](_0x30f44b=>_0xf98637[_0x35060e(0x233)](_0x30f44b))===-0x1),_0x54bfb4=await _0x4c93d6['\x66\x65\x74\x63\x68\x42\x61\x6c\x61\x6e\x63\x65'](),_0x37089e=[...buyList,...sellList][_0x35060e(0x258)](({method:_0x19993d})=>_0x19993d['\x69\x6e\x63\x6c\x75\x64\x65\x73'](_0x35060e(0x1e9))),_0x43fe90=await calculateBalance(_0x4c93d6,_0x54bfb4,_0x37089e,_0x35060e(0x27f),spikeAmountPercentage,reinvestment,'\x53\x70\x69\x6b\x65',_0x49644f,_0x57fd34);await checkOpenOrder(_0x4c93d6,_0x37aa94,sellList,limiter,_0x35060e(0x1e9),_0x49644f,_0x57fd34,_0x16ac6d,timeOrder,_0x54bfb4,spikeTakeProfit,spikeStopLoss);const _0x312c4e=await fetchOpenPositions(_0x4c93d6),_0x5b8f23=await _0x4c93d6[_0x35060e(0x21f)]();if(!checkBalance(_0x35060e(0x27f),_0x43fe90)&&_0x312c4e[_0x35060e(0x1e2)]===0x0){ioEmitter(_0x37aa94,_0x35060e(0x265),_0x35060e(0x218));throw new Error(checkBalanceString);}const _0x1d3e2b=await fetchCandleMarkets(_0x4c93d6,limiter,_0x4869bf,enhancedTimeFrame);if(global[_0x35060e(0x208)])throw new Error(stopBotString);const _0xa9b142=_['\x63\x6f\x6d\x70\x61\x63\x74'](_0x1d3e2b);await fudAndFomoRate(_0x4c93d6,_0x37aa94,limiter,_0xa9b142,_0x5b8f23,_0x37089e,_0x35060e(0x1e9));const _0x4da924=await Promise[_0x35060e(0x1f1)](_0xa9b142[_0x35060e(0x1ba)](_0x2ebc8a=>limiter[_0x35060e(0x21c)](async()=>{const _0x24a689=_0x35060e;if(!global[_0x24a689(0x208)])try{const {symbol:_0x3d9e7c,opens:_0x1ba95c,highs:_0x10ae26,lows:_0xf19e3d,closes:_0x470947,volumes:_0x348a8d,last:_0x23e502,quoteVolume:_0x3b8f8d}=_0x2ebc8a,{spikeBaseRate:_0x5c8d7c,lastOpen:_0x2f1144,lastClose:_0x5604d3,lastLow:_0x7e7b50,lastCandle:_0x30e38b,secondLastCandle:_0x36691a,thirdLastCandle:_0x1924e2,lastRSI:_0x41940d,secondLastRSI:_0x244590,thirdLastRSI:_0x39e4f7,lastEMA:_0xc8be62,lastEMARSI:_0x292543,lastBBLower:_0x29cebf,spikyVal:_0x5ea7bc,changeBB:_0x1e8c4f,askOrderThickness:_0x3c2a42,closeDiff:_0x393274,lastVolOsc:_0x3d5cbf,volDiff:_0x32cfc2}=await commonIndicator(_0x4c93d6,_0x10ae26,_0xf19e3d,_0x1ba95c,_0x470947,_0x348a8d,_0x23e502,_0x3d9e7c,tradingStrictnessRatio),_0x27b829=_0x32cfc2>=0.75||_0x3d5cbf>0x0,_0x1025df=weightedMean([[Number(_0x23e502>=0.000001),7.5],[Number(_0x5604d3/_0x2f1144>0.95),7.5],[Number(_0x7e7b50/_0x2f1144>0.93),0x5],[Number(_0x292543>=0x41),6.25],[Number(_0x23e502>=_0xc8be62),0xa],[Number(_0x5ea7bc>=2.5),12.5],[Number(_0x1e8c4f>=1.08&&_0x1e8c4f<=1.35),20.5],[Number(_0x3c2a42>=0.95),5.25],[Number(_0x27b829),0x6],[Number(_0x393274<=1.025),7.25],[Number(_0x41940d>=0x41),12.5]]),_0x44fc42=_0x23e502*spikeTakeProfit>=_0x29cebf&&_0x244590<_0x39e4f7&&_0x41940d<_0x39e4f7*0.95,_0x4bc958=_[_0x24a689(0x279)](_0x312c4e,[_0x24a689(0x228),_0x3d9e7c])===-0x1,_0x186be0={};_0x186be0[_0x24a689(0x228)]=_0x3d9e7c[_0x24a689(0x277)]('\x2f','');const _0x5bae70=_0x4bc958&&Number[_0x24a689(0x1e4)]((await _0x4c93d6['\x66\x61\x70\x69\x50\x75\x62\x6c\x69\x63\x47\x65\x74\x50\x72\x65\x6d\x69\x75\x6d\x49\x6e\x64\x65\x78'](_0x186be0))[_0x24a689(0x25f)])>0x0,_0x3e02eb=loggingMessage('\x43\x61\x6c\x63\x75\x6c\x61\x74\x69\x6e\x67\x20\x53\x74\x72\x61\x74\x65\x67\x79\x3a\x20'+_0x3d9e7c+_0x24a689(0x1fa)),_0x11a21c=weight*tradingStrictnessRatio,_0x29c5c5=spikeMarkPrice[_0x24a689(0x212)](_0x3d9e7c);if(!_0x29c5c5&&_0x23e502>=_0x5c8d7c||tradingStrictness===_0x24a689(0x251)){const _0x40d90e={};_0x40d90e[_0x24a689(0x255)]=moment()[_0x24a689(0x234)](),spikeMarkPrice['\x73\x65\x74'](_0x3d9e7c,_0x40d90e);}const _0x5c6ba8=_0x29c5c5&&moment[_0x24a689(0x202)](_0xdafba0[_0x24a689(0x1dc)](_0x29c5c5[_0x24a689(0x255)]))['\x61\x73\x48\x6f\x75\x72\x73']();if(_0x5bae70&&_0x312c4e['\x6c\x65\x6e\x67\x74\x68']<spikeMaxOpenPosition&&_0x30e38b<0x0&&_0x36691a<0x0&&_0x1924e2>0x0&&_0x5c6ba8<=0x5&&_0x44fc42&&_0x1025df>=_0x11a21c&&await checkQuoteVolume(_0x4c93d6,_0x3d9e7c,_0x3b8f8d,minimumVolume)||_0x5bae70&&_0x312c4e[_0x24a689(0x1e2)]<spikeMaxOpenPosition&&tradingStrictness===_0x24a689(0x251)){console['\x6c\x6f\x67'](_0x3e02eb,'\x53\x55\x43\x43\x45\x53\x53'),spikeMarkPrice[_0x24a689(0x1c5)](_0x3d9e7c);const _0x3f568d={..._0x2ebc8a};return _0x3f568d[_0x24a689(0x25a)]=_0x24a689(0x1e9),_0x3f568d;}return _0x5c6ba8>0x5&&spikeMarkPrice['\x64\x65\x6c\x65\x74\x65'](_0x3d9e7c),console[_0x24a689(0x266)](_0x3e02eb,_0x24a689(0x1fb)),undefined;}catch(_0x124fa6){return console[_0x24a689(0x249)](_0x124fa6),logger[_0x24a689(0x249)](_0x124fa6),undefined;}return undefined;})));if(global[_0x35060e(0x208)])throw new Error(stopBotString);const _0x1bd2c6=_[_0x35060e(0x20d)](_0x4da924);if(_0x1bd2c6['\x6c\x65\x6e\x67\x74\x68']===0x0){ioEmitter(_0x37aa94,_0x35060e(0x265),_0x35060e(0x280));if(global['\x73\x68\x6f\x75\x6c\x64\x45\x6e\x61\x62\x6c\x65\x43\x6f\x75\x6e\x74\x65\x72\x44\x44\x4f\x53'])throw new Error(_0x35060e(0x1cf));throw new Error('\x41\x74\x20\x63\x68\x65\x63\x6b\x20\x6c\x69\x73\x74\x20\x73\x68\x6f\x75\x6c\x64\x20\x73\x68\x6f\x72\x74\x20\x73\x74\x65\x70');}else{const {symbol:_0x530880,last:_0x250492,method:_0x142877}=_[_0x35060e(0x23d)](_0x1bd2c6,'\x70\x65\x72\x63\x65\x6e\x74\x61\x67\x65')||_[_0x35060e(0x238)](_0x1bd2c6),_0x5e3461=_0x5b8f23[_0x35060e(0x279)](_0x24f864=>_0x24f864['\x73\x79\x6d\x62\x6f\x6c']===_0x530880),_0x598a4c=sellList[_0x35060e(0x279)](_0x1db9c8=>_0x1db9c8[_0x35060e(0x228)]===_0x530880&&_0x1db9c8['\x6d\x65\x74\x68\x6f\x64']===_0x142877);if(_0x5e3461===-0x1&&_0x598a4c===-0x1){const {precision:{amount:_0x2b0866,price:_0x410244}}=_0x16ac6d[_0x35060e(0x1ce)](_0x3a1438=>_0x3a1438[_0x35060e(0x228)]===_0x530880),_0x55d6dc=_0x250492,_0x5439e6=await calculateAmount2Buy(_0x4c93d6,_0x530880,_0x43fe90/_0x55d6dc*0.9975,_0x55d6dc);if(mode===_0x35060e(0x235)){const _0x5a2a9a={};_0x5a2a9a[_0x35060e(0x228)]=_0x530880['\x72\x65\x70\x6c\x61\x63\x65']('\x2f',''),_0x5a2a9a[_0x35060e(0x22c)]=0x1,await _0x4c93d6[_0x35060e(0x27c)](_0x5a2a9a);const _0x3915e2=await _0x4c93d6[_0x35060e(0x231)](_0x530880,_0x5439e6[_0x35060e(0x1d2)](_0x2b0866)['\x6e\x6f\x45\x78\x70\x6f\x6e\x65\x6e\x74\x73'](),_0x55d6dc['\x74\x6f\x46\x69\x78\x65\x64\x4e\x75\x6d\x62\x65\x72'](_0x410244)[_0x35060e(0x1bd)]());await writeSellList(_0x530880,undefined,_0x3915e2['\x69\x64'],_0x142877,spikeTakeProfit,spikeStopLoss),messageTrade(_0x3915e2,_0x35060e(0x1ca)+_0x142877+_0x35060e(0x1fe),_0x5439e6,_0x530880,_0x55d6dc,_0x49644f,_0x57fd34,_0x37aa94,_0x35060e(0x1c3));}else mode===_0x35060e(0x254)&&_0x49644f['\x65\x6d\x69\x74'](_0x35060e(0x1f7),_0x57fd34,'\x53\x68\x6f\x72\x74\x20'+_0x530880+_0x35060e(0x268)+_0x55d6dc);}else throw new Error(_0x35060e(0x1b6));}throw new Error(SuccessfulString);}catch(_0x3d6c2d){try{ioEmitter(_0x37aa94,_0x35060e(0x249),_0x3d6c2d[_0x35060e(0x1f7)]),_0x3d6c2d['\x6d\x65\x73\x73\x61\x67\x65']===SuccessfulString&&logger['\x65\x72\x72\x6f\x72'](_0x3d6c2d);}catch(_0x3bd227){ioEmitter(_0x37aa94,'\x65\x72\x72\x6f\x72',_0x3bd227[_0x35060e(0x1f7)]),logger[_0x35060e(0x249)](_0x3bd227);}}}if(!useMarketNeutralStrategy&&!_0x21ad8c&&!useDipStrategy&&!useSpikeStrategy)throw new Error(_0x35060e(0x259));throw new Error(restartBotString);}catch(_0x5ae85f){const {io:_0x4504df}=_0x56866b;try{_0x5ae85f[_0x35060e(0x1f7)]!==restartBotString&&(ioEmitter(_0x4504df,_0x35060e(0x249),_0x5ae85f[_0x35060e(0x1f7)]),logger[_0x35060e(0x249)](_0x5ae85f));if(!global[_0x35060e(0x208)]){if(!global[_0x35060e(0x20f)])await autoUpdater(_0x35060e(0x219),_0x35060e(0x274),_0x35060e(0x1e0)),restart(main,_0x56866b);else{global[_0x35060e(0x1ed)]=![],global[_0x35060e(0x20f)]=![];if(global[_0x35060e(0x244)]<0x3e8){global['\x64\x65\x6c\x61\x79']+=baseDelay;const _0xfecb1={};_0xfecb1['\x6d\x61\x78\x43\x6f\x6e\x63\x75\x72\x72\x65\x6e\x74']=0x1,_0xfecb1[_0x35060e(0x26b)]=global['\x64\x65\x6c\x61\x79'],limiter['\x75\x70\x64\x61\x74\x65\x53\x65\x74\x74\x69\x6e\x67\x73'](_0xfecb1);}restart(main,_0x56866b);}}else global[_0x35060e(0x208)]=![],global['\x69\x73\x52\x75\x6e\x6e\x69\x6e\x67']=![],_0x4504df[_0x35060e(0x20a)]('\x69\x73\x52\x75\x6e\x6e\x69\x6e\x67',global['\x69\x73\x52\x75\x6e\x6e\x69\x6e\x67']),ioEmitter(_0x4504df,_0x35060e(0x25b),_0x35060e(0x242)),await fs['\x72\x65\x6d\x6f\x76\x65'](_0x35060e(0x271));}catch(_0x34e59f){ioEmitter(_0x4504df,'\x65\x72\x72\x6f\x72',_0x34e59f[_0x35060e(0x1f7)]),logger['\x65\x72\x72\x6f\x72'](_0x34e59f),restart(main,_0x56866b);}}}function startMain(_0x1014a5){const _0x211e11=_0x43578a,{exchange:_0x1c2992,remoteTelegram:_0x5b7660,timeFrame:timeFrame=_0x211e11(0x241),telegramUserId:_0x37da4c,dipTakeProfitPercentage:dipTakeProfitPercentage=1.5,dipStopLossPercentage:dipStopLossPercentage=0x3,tradingStrictness:tradingStrictness='\x6d\x65\x64\x69\x75\x6d',dipMarketPlace:dipMarketPlace=_0x211e11(0x230),dipStableMarket:dipStableMarket=_0x211e11(0x27f),spikeTakeProfitPercentage:spikeTakeProfitPercentage=2.5,spikeStopLossPercentage:spikeStopLossPercentage=0x7}=_0x1014a5,_0xb29e93=(()=>{const _0x83531e=_0x211e11;switch(tradingStrictness){case _0x83531e(0x226):return 0x1;case _0x83531e(0x1c2):return 0.8;case _0x83531e(0x216):return 0.6;case _0x83531e(0x26c):return 0.4;default:return 0.2;}})(),_0x556592=(()=>{const _0x43245e=_0x211e11,_0x26b08d={};_0x26b08d['\x31\x6d']=0x1,_0x26b08d['\x33\x6d']=0x3,_0x26b08d['\x35\x6d']=0x5,_0x26b08d[_0x43245e(0x1f5)]=0xf,_0x26b08d[_0x43245e(0x241)]=0x1e,_0x26b08d['\x31\x68']=0x3c,_0x26b08d['\x32\x68']=0x78,_0x26b08d['\x34\x68']=0xf0,_0x26b08d['\x36\x68']=0x168,_0x26b08d['\x38\x68']=0x1e0,_0x26b08d['\x31\x32\x68']=0x2d0,_0x26b08d['\x31\x64']=0x5a0,_0x26b08d['\x31\x77']=0x2760;const _0x1f9a61=_0x26b08d,_0x3ed9ab=Object[_0x43245e(0x20b)](_0x1c2992[_0x43245e(0x1d6)]),_0x56630f=_0x3ed9ab[_0x43245e(0x27a)](timeFrame);if(_0x56630f!==-0x1)return timeFrame;const _0x3bd6c9=_0x1f9a61[timeFrame],_0x429747=Object[_0x43245e(0x20b)](_0x1f9a61)[_0x43245e(0x1ba)](_0x4906e4=>({'\x74\x69\x6d\x65\x46\x72\x61\x6d\x65':_0x4906e4,'\x77\x65\x69\x67\x68\x74':_0x3bd6c9<_0x1f9a61[_0x4906e4]?_0x3bd6c9/_0x1f9a61[_0x4906e4]:_0x1f9a61[_0x4906e4]/_0x3bd6c9}))[_0x43245e(0x1cc)]((_0x41c2ca,_0x2d688b)=>_0x41c2ca[_0x43245e(0x1e7)]>_0x2d688b['\x77\x65\x69\x67\x68\x74']?0x1:-0x1)['\x66\x69\x6c\x74\x65\x72'](_0x5bc6de=>_0x3ed9ab[_0x43245e(0x233)](_0x5bc6de[_0x43245e(0x1c8)]));return _[_0x43245e(0x222)](_0x429747)[_0x43245e(0x1c8)];})(),_0x3d1033=dipMarketPlace[_0x211e11(0x248)](),_0x1eea37=dipStableMarket[_0x211e11(0x248)](),_0x2c6697=(0x64+dipTakeProfitPercentage)/0x64,_0xb01dac=(0x64-dipStopLossPercentage)/0x64,_0xef8b3b=(0x64-spikeTakeProfitPercentage)/0x64,_0x4187fc=(0x64+spikeStopLossPercentage)/0x64;messenger(_0x5b7660,_0x37da4c),global[_0x211e11(0x272)]=!![];const _0x49cb8c={..._0x1014a5};_0x49cb8c[_0x211e11(0x261)]=_0x2c6697,_0x49cb8c[_0x211e11(0x1e3)]=_0xb01dac,_0x49cb8c[_0x211e11(0x20c)]=_0xef8b3b,_0x49cb8c[_0x211e11(0x1ec)]=_0x4187fc,_0x49cb8c[_0x211e11(0x256)]=_0x3d1033,_0x49cb8c[_0x211e11(0x1c7)]=_0x1eea37,_0x49cb8c[_0x211e11(0x205)]=_0x556592,_0x49cb8c[_0x211e11(0x224)]=_0xb29e93,main(_0x49cb8c);}function stopMain(_0x266980){const _0x17655e=_0x43578a;global[_0x17655e(0x208)]=!![],ioEmitter(_0x266980,_0x17655e(0x265),'\x53\x74\x6f\x70\x70\x69\x6e\x67\x20\x74\x68\x65\x20\x62\x6f\x74\x2c\x20\x70\x6c\x65\x61\x73\x65\x20\x77\x61\x69\x74');}function _0x5225(_0xf94be6,_0x4aa0a1){return _0x5225=function(_0x382010,_0x1181ca){_0x382010=_0x382010-0x1b6;let _0x5533c9=_0x3f7a[_0x382010];return _0x5533c9;},_0x5225(_0xf94be6,_0x4aa0a1);}async function manual(_0x4054cb){const _0x31a89b=_0x43578a,{exchange:_0x42046a,io:_0x2fb740,breakEven:breakEven=!![],remoteTelegram:_0x798485,telegramUserId:_0x15e04b,takeProfit:_0x4d483b=0x5,stopLoss:_0x10acd5=0x5}=_0x4054cb;try{const _0xf6b56a=await _0x42046a[_0x31a89b(0x260)](),_0x540abe=await _0x42046a[_0x31a89b(0x1bf)](),{buyList:buyList=[],sellList:sellList=[]}=database[_0x31a89b(0x212)]('\x74\x72\x61\x64\x65')['\x76\x61\x6c\x75\x65']();await checkStopLoss(_0x42046a,_0x2fb740,limiter,sellList,_0x540abe,_0x31a89b(0x1ef),breakEven,_0x798485,_0x15e04b),await checkOpenOrder(_0x42046a,_0x2fb740,buyList,limiter,_0x31a89b(0x1ef),_0x798485,_0x15e04b,_0x540abe,0x2d,_0xf6b56a,_0x4d483b,_0x10acd5);throw new Error(restartBotString);}catch(_0x206717){try{_0x206717[_0x31a89b(0x1f7)]!==restartBotString&&(ioEmitter(_0x2fb740,_0x31a89b(0x249),_0x206717[_0x31a89b(0x1f7)]),logger[_0x31a89b(0x249)](_0x206717));const {buyList:buyList=[],sellList:sellList=[]}=database[_0x31a89b(0x212)]('\x74\x72\x61\x64\x65')[_0x31a89b(0x1dd)](),_0x2a888d=[...buyList,...sellList];!global[_0x31a89b(0x1f2)]&&_0x2a888d[_0x31a89b(0x279)](_0x3b5f52=>_0x3b5f52['\x6d\x65\x74\x68\x6f\x64']===_0x31a89b(0x1ef))!==-0x1?restart(manual,_0x4054cb):(global[_0x31a89b(0x1f2)]=![],global['\x69\x73\x52\x75\x6e\x6e\x69\x6e\x67\x4d\x61\x6e\x75\x61\x6c']=![]);}catch(_0x15f2ed){ioEmitter(_0x2fb740,_0x31a89b(0x249),_0x15f2ed['\x6d\x65\x73\x73\x61\x67\x65']),logger[_0x31a89b(0x249)](_0x15f2ed),restart(manual,_0x4054cb);}}}function startManual(_0x27f917){global['\x69\x73\x52\x75\x6e\x6e\x69\x6e\x67\x4d\x61\x6e\x75\x61\x6c']=!![],manual(_0x27f917);}function stopManual(){const _0xe8866=_0x43578a;global[_0xe8866(0x1f2)]=!![];}const _0x2cc075={};_0x2cc075[_0x43578a(0x227)]=startMain,_0x2cc075['\x73\x74\x6f\x70\x4d\x61\x69\x6e']=stopMain,_0x2cc075[_0x43578a(0x27e)]=manual,_0x2cc075[_0x43578a(0x200)]=startManual,_0x2cc075[_0x43578a(0x1c0)]=stopManual,module[_0x43578a(0x1cb)]=_0x2cc075;